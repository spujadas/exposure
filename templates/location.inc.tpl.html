{#
   This file is part of the Exposure package.

   Copyright 2013 by SÃ©bastien Pujadas

   For the full copyright and licence information, please view the LICENCE
   file that was distributed with this source code.
#}

{% from 'form_macros.tpl.html' import error, error_class %}

{% for locationtreeitem in locationtree %}
  <div class="form-group{% if (locationtreeitem.formName == 'location') %} {{ error_class(session.errors, 'location') }} {% endif %}">
    <label class="col-lg-2 control-label" for="{{locationtreeitem.formName}}">{{locationtreeitem.name}}</label>
    <div class="col-lg-10">
      <select class="form-control" name="{{locationtreeitem.formName}}" id="{{locationtreeitem.formName}}">
        <option value=""{% if (locationtreeitem.current is defined) and (locationtreeitem.current == "") %} selected="selected"{% endif %}></option>
        {% for location in locationtreeitem.locations %}
          <option value="{{ location.label }}"{% if (locationtreeitem.current is defined) and (locationtreeitem.current == location.label) %} selected="selected"{% endif %}>{{location.name}}</option>
        {% endfor %}
      </select>
    </div>
  </div>
  {% if (locationtreeitem.formName == 'location') %} {{ error(session.errors, 'location') }} {% endif %}
{% endfor %}


<script type="text/javascript" src="/assets/js/indexOf.js"></script>
<script type="text/javascript" src="/assets/js/location.js"></script>
